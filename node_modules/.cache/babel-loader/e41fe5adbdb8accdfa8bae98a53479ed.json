{"remainingRequest":"/home/lazar/Desktop/workout/node_modules/babel-loader/lib/index.js!/home/lazar/Desktop/workout/src/router/index.js","dependencies":[{"path":"/home/lazar/Desktop/workout/src/router/index.js","mtime":1655653247145},{"path":"/home/lazar/Desktop/workout/babel.config.js","mtime":1655653244121},{"path":"/home/lazar/Desktop/workout/node_modules/cache-loader/dist/cjs.js","mtime":1655653244901},{"path":"/home/lazar/Desktop/workout/node_modules/babel-loader/lib/index.js","mtime":1655653244825}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2xhemFyL0Rlc2t0b3Avd29ya291dC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVdlYkhpc3RvcnkgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgUGxhbkluZm8gZnJvbSAnLi4vdmlld3MvUGxhbkluZm8udnVlJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IEFkbWluIGZyb20gJy4uL3ZpZXdzL0FkbWluLnZ1ZSc7CmltcG9ydCBQbGFuTWFrZXIgZnJvbSAnLi4vdmlld3MvUGxhbk1ha2VyLnZ1ZSc7CmltcG9ydCBOb3RGb3VuZCBmcm9tICcuLi92aWV3cy9Ob3RGb3VuZC52dWUnOwppbXBvcnQgQWRkRXhlcmNpc2UgZnJvbSAnLi4vdmlld3MvQWRkRXhlcmNpc2UudnVlJzsKaW1wb3J0IENhbG9yaWUgZnJvbSAnLi4vdmlld3MvQ2Fsb3JpZS52dWUnOwppbXBvcnQgTXlwbGFuIGZyb20gJy4uL3ZpZXdzL015UGxhbi52dWUnOwppbXBvcnQgRXhlcmNpc2VzIGZyb20gJy4uL3ZpZXdzL0V4ZXJjaXNlcy52dWUnOwppbXBvcnQgRXhlcmNpc2VMaWIgZnJvbSAnLi4vdmlld3MvRXhlcmNpc2VMaWIudnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKdmFyIHJvdXRlcyA9IFt7CiAgbWV0YTogey8vICByZXF1aXJlc0xvZ2luOiB0cnVlLAogICAgLy8gIHJlcXVpcmVzQWRtaW46IHRydWUsCiAgfSwKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZSwKICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIGlmIChzdG9yZS5zdGF0ZS5pc0FkbWluID09IHRydWUpIHsKICAgICAgbmV4dCgiL2FkbWluIik7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfQp9LCB7CiAgcGF0aDogJy9wbGFuaW5mbycsCiAgbmFtZTogJ1BsYW5JbmZvJywKICBjb21wb25lbnQ6IFBsYW5JbmZvCn0sIHsKICBwYXRoOiAnL3dvcmtvdXQnLAogIG5hbWU6ICdXb3Jrb3V0JywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvV29ya291dC52dWUnKTsKICB9LAogIG1ldGE6IHsKICAgIHJlcXVpcmVzTG9naW46IHRydWUKICB9LAogIGJlZm9yZUVudGVyOiBmdW5jdGlvbiBiZWZvcmVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgY29uc29sZS5sb2coc3RvcmUuc3RhdGUudXNyUmVxdWVzdCk7CiAgICBjb25zb2xlLmxvZyhzdG9yZS5zdGF0ZS51c3JQbGFuKTsKCiAgICBpZiAoc3RvcmUuc3RhdGUudXNyUmVxdWVzdCAmJiAhc3RvcmUuc3RhdGUudXNyUGxhbiB8fCAhc3RvcmUuc3RhdGUudXNyUmVxdWVzdCAmJiBzdG9yZS5zdGF0ZS51c3JQbGFuKSB7CiAgICAgIG5leHQoIi9wbGFuaW5mbyIpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0KfSwgewogIHBhdGg6ICcvcmVnaXN0ZXInLAogIG5hbWU6ICdyZWdpc3RlcicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi9jb21wb25lbnRzL1JlZ2lzdGVyLnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdsb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi9jb21wb25lbnRzL0xvZ2luLnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcvYWRtaW4nLAogIG5hbWU6ICdhZG1pbicsCiAgY29tcG9uZW50OiBBZG1pbiwKICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIGlmIChzdG9yZS5zdGF0ZS5pc0FkbWluID09IGZhbHNlKSB7CiAgICAgIG5leHQoIi8iKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9Cn0sIHsKICBwYXRoOiAnL21rcGxhbi86aWQnLAogIG5hbWU6ICdQbGFuTWFrZXIgJywKICBjb21wb25lbnQ6IFBsYW5NYWtlciwKICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIGlmIChzdG9yZS5zdGF0ZS5pc0FkbWluID09IGZhbHNlKSB7CiAgICAgIG5leHQoIi8iKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9Cn0sIHsKICBwYXRoOiAnL2V4aWQvOmlkJywKICBuYW1lOiAnZXhlcmNpc2VzICcsCiAgY29tcG9uZW50OiBFeGVyY2lzZXMKfSwgewogIHBhdGg6ICcvOnBhdGhNYXRjaCguKikqJywKICBuYW1lOiAnTm90Rm91bmQnLAogIGNvbXBvbmVudDogTm90Rm91bmQKfSwgewogIHBhdGg6ICcvYWRkRXhlcmNpc2UnLAogIG5hbWU6ICdBZGRFeGVyY2lzZScsCiAgY29tcG9uZW50OiBBZGRFeGVyY2lzZSwKICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIGlmIChzdG9yZS5zdGF0ZS5pc0FkbWluID09IGZhbHNlKSB7CiAgICAgIG5leHQoIi8iKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9Cn0sIHsKICBwYXRoOiAnL2NhbG9yaWUnLAogIG5hbWU6ICdDYWxvcmllJywKICBjb21wb25lbnQ6IENhbG9yaWUKfSwgewogIHBhdGg6ICcvZXhsaWInLAogIG5hbWU6ICdFeGVyY2lzZUxpYicsCiAgY29tcG9uZW50OiBFeGVyY2lzZUxpYgp9LCB7CiAgcGF0aDogJy9teXBsYW4nLAogIG5hbWU6ICdNeXBsYW4nLAogIGNvbXBvbmVudDogTXlwbGFuLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzTG9naW46IHRydWUKICB9Cn1dOwp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIaXN0b3J5KHByb2Nlc3MuZW52LkJBU0VfVVJMKSwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciByZXNwb25zZTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCF0by5tZXRhLnJlcXVpcmVzTG9naW4pIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgic2lkIikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiaHR0cDovLzU0OHkxMjIuZTIubWFycy1ob3N0aW5nLmNvbS93b3Jrb3V0L3dvcmtvdXQtY2hlY2siLCB7CiAgICAgICAgICAgICAgc2lkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJzaWQiKQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZUlzbG9nZ2VkaW4nLCB0cnVlKTsKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ3VzZXJTdG9yZScsIHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VJc0FkbWluJywgcmVzcG9uc2UuZGF0YS51c2VyLnVzcl9hZG1pbik7CiAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBuZXh0KCIvbG9naW4iKTsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIG5leHQoKTsKCiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/home/lazar/Desktop/workout/src/router/index.js"],"names":["createRouter","createWebHistory","Home","PlanInfo","store","Admin","PlanMaker","NotFound","AddExercise","Calorie","Myplan","Exercises","ExerciseLib","axios","mapState","mapActions","routes","meta","path","name","component","beforeEnter","to","from","next","state","isAdmin","requiresLogin","console","log","usrRequest","usrPlan","router","history","process","env","BASE_URL","beforeEach","sessionStorage","getItem","post","sid","response","dispatch","data","user","usr_admin"],"mappings":"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","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport PlanInfo from '../views/PlanInfo.vue'\r\nimport store from '../store'\r\nimport Admin from '../views/Admin.vue'\r\nimport PlanMaker from '../views/PlanMaker.vue'\r\nimport NotFound from '../views/NotFound.vue'\r\nimport AddExercise from '../views/AddExercise.vue'\r\nimport Calorie from '../views/Calorie.vue'\r\nimport Myplan from '../views/MyPlan.vue'\r\nimport Exercises from '../views/Exercises.vue'\r\nimport ExerciseLib from '../views/ExerciseLib.vue'\r\nimport axios from 'axios'\r\n\r\nimport { mapState,mapActions} from \"vuex\";\r\n\r\n\r\nconst routes = [\r\n  {\r\n\r\n    meta: {\r\n      //  requiresLogin: true,\r\n      //  requiresAdmin: true,\r\n    },\r\n    \r\n    path: '/',\r\n    name: 'Home',\r\n    component: Home,\r\n    beforeEnter: (to,from,next) =>{\r\n        if(store.state.isAdmin == true){\r\n          next(\"/admin\");\r\n        }else{\r\n          next();\r\n        }\r\n    }\r\n  },\r\n  {\r\n    path: '/planinfo',\r\n    name: 'PlanInfo',\r\n    component: PlanInfo,\r\n\r\n  },\r\n  {\r\n    path: '/workout',\r\n    name: 'Workout',\r\n    component: () => import('../components/Workout.vue'),\r\n    meta: {\r\n      requiresLogin: true\r\n    },\r\n    beforeEnter: (to,from,next) =>{\r\n      console.log(store.state.usrRequest)\r\n      console.log(store.state.usrPlan)\r\n      if(store.state.usrRequest&&!store.state.usrPlan || !store.state.usrRequest&&store.state.usrPlan){\r\n        next(\"/planinfo\");\r\n      }else{\r\n        next();\r\n      }\r\n  }\r\n\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'register',\r\n    component: () => import('../components/Register.vue')\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: () => import('../components/Login.vue')\r\n  },\r\n  {\r\n    path: '/admin',\r\n    name: 'admin',\r\n    component: Admin,\r\n    \r\n    beforeEnter: (to,from,next) =>{\r\n    if(store.state.isAdmin == false){\r\n        next(\"/\");\r\n    }else{\r\n        next();\r\n    }}\r\n \r\n  },\r\n  {\r\n    path: '/mkplan/:id',\r\n    name: 'PlanMaker ',\r\n    component: PlanMaker,\r\n    \r\n    beforeEnter: (to,from,next) =>{\r\n    if(store.state.isAdmin  == false){\r\n      next(\"/\");\r\n    }else{\r\n      next();\r\n    }}\r\n  },\r\n  {\r\n    path: '/exid/:id',\r\n    name: 'exercises ',\r\n    component: Exercises,\r\n    \r\n},\r\n  {\r\n    path: '/:pathMatch(.*)*',\r\n    name: 'NotFound',\r\n    component: NotFound\r\n  },\r\n  {\r\n    path: '/addExercise',\r\n    name: 'AddExercise',\r\n    component: AddExercise,\r\n\r\n    beforeEnter: (to,from,next) =>{\r\n     \r\n      if(store.state.isAdmin  == false){\r\n        next(\"/\");\r\n      }else{\r\n        next();\r\n      }}\r\n    \r\n  },\r\n  {\r\n    path: '/calorie',\r\n    name: 'Calorie',\r\n    component: Calorie,\r\n  },\r\n  {\r\n    path: '/exlib',\r\n    name: 'ExerciseLib',\r\n    component: ExerciseLib,\r\n  },\r\n  {\r\n    path: '/myplan',\r\n    name: 'Myplan',\r\n    component: Myplan,\r\n    meta: {\r\n      requiresLogin: true\r\n    },\r\n  },\r\n\r\n\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n})\r\n\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  if (to.meta.requiresLogin) {\r\n    // console.log(from);\r\n    if (sessionStorage.getItem(\"sid\")) {\r\n      \r\n     \r\n      const response = await axios.post(\"http://548y122.e2.mars-hosting.com/workout/workout-check\",{sid:sessionStorage.getItem(\"sid\")})\r\n       \r\n      store.dispatch('changeIsloggedin',true);\r\n      store.dispatch('userStore',response.data.user);\r\n      store.dispatch('changeIsAdmin',response.data.user.usr_admin);\r\n      next();\r\n    } else {\r\n      next(\"/login\")\r\n    }\r\n      \r\n\r\n  } else {\r\n\r\n    next()\r\n   \r\n  }\r\n})\r\n\r\nexport default router\r\n"]}]}